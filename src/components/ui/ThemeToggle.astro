---
import { Sun, Moon } from 'lucide-astro';
---

<button
  id="theme-toggle"
  class="p-2 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors"
  aria-label="Toggle theme"
>
  <Sun class="w-5 h-5 dark:hidden" />
  <Moon class="w-5 h-5 hidden dark:block" />
</button>

<script is:inline>
  const themeToggle = document.getElementById('theme-toggle');
  
  if (themeToggle) {
    themeToggle.addEventListener('click', () => {
      const element = document.documentElement;
      element.classList.toggle("dark");
      
      const isDark = element.classList.contains("dark");
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });
  }
</script>
